<!-- Chosen Palette: Calm Harmony (Weather-app standard blue/white) -->
<!-- Application Structure Plan: A two-section, single-column dashboard. Section 1 (Current Weather) provides immediate, at-a-glance information. Section 2 (Hourly Forecast) provides near-term planning info. This structure directly mimics the user's provided screenshots, which represent a clear, established, and user-friendly UX pattern for weather applications. -->
<!-- Visualization & Content Choices: Report Info (User Screenshots) -> Goal: Inform/Plan -> Viz: Current Weather (Large text, icon, details grid), Hourly Forecast (Horizontal scrolling cards) -> Interaction: Scroll -> Justification: Directly matches user's visual request and is the standard, most effective way to present this data. -> Library: Vanilla JS + OpenWeatherMap icon URLs. Replaced "UV Index" (unavailable on free API) with "Visibility" (available) to ensure user's API key works. -->
<!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thá»i tiáº¿t Háº£i PhÃ²ng</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        .hourly-forecast-container::-webkit-scrollbar {
            display: none;
        }
        .hourly-forecast-container {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .detail-item {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 80px;
        }
        .detail-item .label {
            font-size: 0.875rem;
            color: rgba(255, 255, 255, 0.8);
            display: flex;
            align-items: center;
        }
        .detail-item .value {
            font-size: 1.125rem;
            font-weight: 500;
        }
        .icon-label {
            margin-right: 8px;
            font-size: 1.25rem;
            opacity: 0.8;
        }
    </style>
</head>
<body class="p-4">

    <div id="loading" class="text-center p-10">
        <svg class="animate-spin -ml-1 mr-3 h-10 w-10 text-blue-600 inline-block" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
        <p class="text-lg text-gray-700 mt-4">Äang táº£i dá»¯ liá»‡u thá»i tiáº¿t...</p>
    </div>

    <div id="weather-app" class="max-w-2xl mx-auto hidden">
        
        <div class="bg-gradient-to-br from-blue-500 to-blue-700 text-white rounded-2xl shadow-xl p-6 md:p-8">
            <div>
                <h1 id="city-name" class="text-3xl font-bold">Thá»i tiáº¿t Háº£i PhÃ²ng</h1>
                <p id="current-time" class="text-sm opacity-80">Cáº­p nháº­t lÃºc 15:00</p>
            </div>

            <div class="flex flex-col md:flex-row items-center justify-between mt-6">
                <div class="flex items-center">
                    <img id="current-icon" src="https://openweathermap.org/img/wn/01d@4x.png" alt="Weather icon" class="w-32 h-32 -ml-4">
                    <div class="ml-2">
                        <div id="current-temp" class="text-7xl font-black">30Â°C</div>
                    </div>
                </div>
                <div class="text-left md:text-right mt-4 md:mt-0">
                    <p id="current-desc" class="text-2xl font-medium">Trá»i quang mÃ¢y</p>
                    <p id="current-feels-like" class="text-lg opacity-90 mt-1">Cáº£m giÃ¡c nhÆ° 35Â°C</p>
                </div>
            </div>

            <div class="grid grid-cols-2 sm:grid-cols-3 gap-4 mt-8">
                <div class="detail-item">
                    <span class="label"><span class="icon-label">ğŸŒ¬ï¸</span>GiÃ³</span>
                    <span id="current-wind" class="value">10 km/h B</span>
                </div>
                <div class="detail-item">
                    <span class="label"><span class="icon-label">ğŸ’§</span>Äá»™ áº©m</span>
                    <span id="current-humidity" class="value">75%</span>
                </div>
                <div class="detail-item">
                    <span class="label"><span class="icon-label">ğŸŒ€</span>KhÃ­ Ã¡p</span>
                    <span id="current-pressure" class="value">1010 hPa</span>
                </div>
                <div class="detail-item">
                    <span class="label"><span class="icon-label">ğŸ‘ï¸</span>Táº§m nhÃ¬n</span>
                    <span id="current-visibility" class="value">10 km</span>
                </div>
                <div class="detail-item">
                    <span class="label"><span class="icon-label">ğŸŒ…</span>Máº·t trá»i má»c</span>
                    <span id="current-sunrise" class="value">05:30</span>
                </div>
                <div class="detail-item">
                    <span class="label"><span class="icon-label">ğŸŒ‡</span>Máº·t trá»i láº·n</span>
                    <span id="current-sunset" class="value">18:15</span>
                </div>
            </div>
        </div>

        <div class="bg-white rounded-2xl shadow-lg p-6 mt-6">
            <h2 class="text-xl font-bold text-gray-800 mb-4">Thá»i tiáº¿t cÃ¡c giá» tá»›i</h2>
            <div id="hourly-forecast-container" class="flex overflow-x-auto space-x-4 pb-2">
            </div>
        </div>

    </div>

    <script>
        window.addEventListener('DOMContentLoaded', fetchWeatherData);

        function fetchWeatherData() {
            const apiKey = '0a8587bf14e58239fe52f0ddc21129db';
            const city = 'Haiphong';
            const lang = 'vi';
            const units = 'metric';

            const loadingEl = document.getElementById('loading');
            const appEl = document.getElementById('weather-app');

            const currentWeatherUrl = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=${units}&lang=${lang}`;
            const forecastUrl = `https://api.openweathermap.org/data/2.5/forecast?q=${city}&appid=${apiKey}&units=${units}&lang=${lang}`;

            loadingEl.style.display = 'block';
            appEl.style.display = 'none';

            Promise.all([
                fetch(currentWeatherUrl),
                fetch(forecastUrl)
            ])
            .then(([currentRes, forecastRes]) => {
                if (!currentRes.ok || !forecastRes.ok) {
                    throw new Error('KhÃ´ng thá»ƒ táº£i dá»¯ liá»‡u thá»i tiáº¿t. Vui lÃ²ng kiá»ƒm tra API key hoáº·c káº¿t ná»‘i máº¡ng.');
                }
                return Promise.all([currentRes.json(), forecastRes.json()]);
            })
            .then(([currentData, forecastData]) => {
                updateCurrentWeather(currentData);
                updateHourlyForecast(forecastData);
                
                loadingEl.style.display = 'none';
                appEl.style.display = 'block';
            })
            .catch(error => {
                console.error('Lá»—i khi táº£i dá»¯ liá»‡u:', error);
                loadingEl.innerHTML = `<p class="text-red-500">Lá»—i: ${error.message}</p>`;
                loadingEl.style.display = 'block';
                appEl.style.display = 'none';
            });
        }

        function updateCurrentWeather(data) {
            document.getElementById('city-name').textContent = `Thá»i tiáº¿t ${data.name}`;
            document.getElementById('current-time').textContent = `Cáº­p nháº­t lÃºc ${new Date().toLocaleTimeString('vi-VN', { hour: '2-digit', minute: '2-digit' })}`;
            document.getElementById('current-icon').src = `https://openweathermap.org/img/wn/${data.weather[0].icon}@4x.png`;
            document.getElementById('current-icon').alt = data.weather[0].description;
            document.getElementById('current-temp').textContent = `${Math.round(data.main.temp)}Â°C`;
            
            let description = data.weather[0].description;
            document.getElementById('current-desc').textContent = description.charAt(0).toUpperCase() + description.slice(1);
            
            document.getElementById('current-feels-like').textContent = `Cáº£m giÃ¡c nhÆ° ${Math.round(data.main.feels_like)}Â°C`;
            document.getElementById('current-wind').textContent = `${(data.wind.speed * 3.6).toFixed(1)} km/h ${getWindDirection(data.wind.deg)}`;
            document.getElementById('current-humidity').textContent = `${data.main.humidity}%`;
            document.getElementById('current-pressure').textContent = `${data.main.pressure} hPa`;
            document.getElementById('current-visibility').textContent = `${(data.visibility / 1000).toFixed(1)} km`;
            document.getElementById('current-sunrise').textContent = formatTime(data.sys.sunrise);
            document.getElementById('current-sunset').textContent = formatTime(data.sys.sunset);
        }

        function updateHourlyForecast(data) {
            const container = document.getElementById('hourly-forecast-container');
            container.innerHTML = '';
            
            const hourlyData = data.list.slice(0, 8);

            hourlyData.forEach(item => {
                const time = formatTime(item.dt);
                const iconUrl = `https://openweathermap.org/img/wn/${item.weather[0].icon}@2x.png`;
                const temp = Math.round(item.main.temp);
                const pop = Math.round(item.pop * 100);

                const cardHtml = `
                    <div class="flex-shrink-0 w-24 text-center p-2 bg-gray-50 rounded-lg shadow-sm">
                        <p class="font-medium text-gray-700">${time}</p>
                        <img src="${iconUrl}" alt="${item.weather[0].description}" class="mx-auto w-12 h-12">
                        <p class="font-bold text-lg text-gray-900">${temp}Â°</p>
                        <p class="text-xs text-blue-500 font-medium">${pop}% ğŸ’§</p>
                    </div>
                `;
                container.innerHTML += cardHtml;
            });
        }

        function formatTime(timestamp) {
            return new Date(timestamp * 1000).toLocaleTimeString('vi-VN', { hour: '2-digit', minute: '2-digit' });
        }

        function getWindDirection(deg) {
            const directions = ['B', 'BÄB', 'ÄB', 'ÄÄB', 'Ä', 'ÄÄN', 'ÄN', 'NÄN', 'N', 'NÄN', 'TN', 'TNN', 'T', 'TBB', 'TB', 'BTT'];
            const index = Math.round((deg % 360) / 22.5);
            return directions[index % 16];
        }

    </script>
</body>
</html>
